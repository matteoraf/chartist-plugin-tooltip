/* chartist-plugin-tooltip 0.1.4
 * Copyright Â© 2020 Markus Padourek (matteoraf version)
 * Free to use under the WTFPL license.
 * http://www.wtfpl.net/
 */

!function(e,o){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["@matteoraf/chartist"],function(t){return e["Chartist.plugins.tooltip"]=o(t)}):"object"==typeof module&&module.exports?module.exports=o(require("@matteoraf/chartist")):e["Chartist.plugins.tooltip"]=o(e.Chartist)}(this,function(t){return function(c,b,T){"use strict";var t={currency:void 0,currencyFormatCallback:void 0,tooltipOffset:{x:0,y:-20},anchorToPoint:!1,appendToBody:!0,class:void 0,pointClass:"ct-point"};function C(t,e){return-1<(" "+t.getAttribute("class")+" ").indexOf(" "+e+" ")}function O(t){var e;return O in t?e=(e=t.offsetParent)||b.body.parentElement:(e=t.parentNode)?"static"!==c.getComputedStyle(e).position?e:"BODY"===e.tagName?e.parentElement:O(e):b.body.parentElement}T.plugins=T.plugins||{},T.plugins.tooltip=function(v){return v=T.extend({},t,v),function(f){var t=v.pointClass;f instanceof T.Bar?t="ct-bar":f instanceof T.Pie&&(t=f.options.donut?f.options.donutSolid?"ct-slice-donut-solid":"ct-slice-donut":"ct-slice-pie");var u=f.container,d=!1,g=O(u),y=v.appendToBody?b.querySelector(".chartist-tooltip"):u.querySelector(".chartist-tooltip");y||((y=b.createElement("div")).className=v.class?"chartist-tooltip "+v.class:"chartist-tooltip",v.appendToBody?b.body.appendChild(y):u.appendChild(y));var m=y.offsetHeight,h=y.offsetWidth;function e(t,e,o){u.addEventListener(t,function(t){e&&!C(t.target,e)||o(t)})}function x(t){m=m||y.offsetHeight;var e,o,n,a,i,s,l=-(h=h||y.offsetWidth)/2+v.tooltipOffset.x,r=-m+v.tooltipOffset.y,p=!0===v.anchorToPoint&&t.target.x2&&t.target.y2;!0===v.appendToBody?p?(a=u.getBoundingClientRect(),i=t.target.x2.baseVal.value+a.left+c.pageXOffset,s=t.target.y2.baseVal.value+a.top+c.pageYOffset,y.style.left=i+l+"px",y.style.top=s+r+"px"):(y.style.left=t.pageX+l+"px",y.style.top=t.pageY+r+"px"):(o=-(e=g.getBoundingClientRect()).left-c.pageXOffset+l,n=-e.top-c.pageYOffset+r,p?(a=u.getBoundingClientRect(),i=t.target.x2.baseVal.value+a.left+c.pageXOffset,s=t.target.y2.baseVal.value+a.top+c.pageYOffset,y.style.left=i+o+"px",y.style.top=s+n+"px"):(y.style.left=t.pageX+o+"px",y.style.top=t.pageY+n+"px"))}function o(t){d=!1;var e=new RegExp("tooltip-show\\s*","gi");t.className=t.className.replace(e,"").trim()}o(y),e("mouseover",t,function(t){var e,o,n,a,i=t.target,s="",l=(f instanceof T.Pie?i:i.parentNode)?i.parentNode.getAttribute("ct:meta")||i.parentNode.getAttribute("ct:series-name"):"",r=i.getAttribute("ct:meta")||l||"",p=!!r,c=i.getAttribute("ct:value");v.transformTooltipTextFnc&&"function"==typeof v.transformTooltipTextFnc&&(c=v.transformTooltipTextFnc(c)),v.tooltipFnc&&"function"==typeof v.tooltipFnc?s=v.tooltipFnc(r,c):(v.metaIsHTML&&((e=b.createElement("textarea")).innerHTML=r,r=e.value),r='<span class="chartist-tooltip-meta">'+r+"</span>",p?s+=r+"<br>":f instanceof T.Pie&&((o=function(t,e){for(;t=t.nextSibling,t&&!C(t,e););return t}(i,"ct-label"))&&(s+=((n=o).innerText||n.textContent)+"<br>")),c&&(v.currency&&(c=null!=v.currencyFormatCallback?v.currencyFormatCallback(c,v):v.currency+c.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")),s+=c='<span class="chartist-tooltip-value">'+c+"</span>")),s&&(y.innerHTML=s,m=y.offsetHeight,h=y.offsetWidth,!0!==v.appendToBody&&(g=O(u)),"absolute"!==y.style.display&&(y.style.display="absolute"),x(t),d=!0,C(a=y,"tooltip-show")||(a.className=a.className+" tooltip-show"),m=y.offsetHeight,h=y.offsetWidth)}),e("mouseout",t,function(){o(y)}),e("mousemove",null,function(t){!1===v.anchorToPoint&&d&&x(t)})}}}(window,document,t),t.plugins.tooltip});
//# sourceMappingURL=chartist-plugin-tooltip.min.js.map